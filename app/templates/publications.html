{% extends "page.html" %}

{% block content %}
{{ super() }}

<script type="text/javascript">
  function disp_bibtex(bibtex) {
      var win;
      var doc;
      win = window.open("", "WINDOWID");
      doc = win.document;
      doc.open("text/plain");
      <!-- doc.write("<pre>" + bibtex + "</pre>"); -->
      doc.write(bibtex);
      doc.close();
  }
</script>

{% for entry in bib %}
  <div class="row">

    <div class="two columns">
      <a href="{{ url_for('static', filename='docs/pubs/{}.pdf'.format(entry.key)) }}">
      <img class="pub-preview" src="{{ url_for('static', filename='docs/pubs/{}.png'.format(entry.key)) }}">
      </a>

      <div class="pub-links">
        <a href="javascript:disp_bibtex('{{ entry.bibtex | replace('\n', '\\n') }}');">bibtex</a> 
        {% if entry.pdf %} | <a href="{{ entry.pdf }}">pdf</a> {% endif %}
        {% if entry.talk %} | <a href="{{ entry.talk }}">talk</a> {% endif %}
      </div>
    </div>

    <div class="ten columns">
      <div class="pub-title">
        <a name="{{ entry.key }}"></a>
        {{ entry.title }}
        <a href="#{{ entry.key }}">Â¶</a>
      </div>
      <span class="pub-authors"><small>{{ entry.authors | boldify('Baisero') | safe }}</small></span>.
      <br/>
      <span class="pub-conf">
        {% if entry.booktitle %}
          {{ entry.booktitle }},
        {% elif entry.journal %}
          {{ entry.journal }},
        {% elif entry.school %}
          {{ entry.school }},
          {% if entry.type_ == "mastersthesis" %}
          Master's Thesis,
          {% endif %}
        {% endif %}
        {{ entry.year }}
        {% if entry.note %}
          - <strong>{{ entry.note }}</strong>
        {% endif %}
      </span>
    </div>

  </div>
{% endfor %}

{% endblock %}
